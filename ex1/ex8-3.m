syms x;
f=(x^2+2*x-1)/(exp(-x)*sin(x)+1);
diff(f)